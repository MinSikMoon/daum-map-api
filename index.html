<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>원, 선, 사각형, 다각형 표시하기</title>

</head>

<body>
    <div id="map" style="width:100%;height:350px;"></div>
    <script type="text/javascript" src="apiKeys.js"></script>
    
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey="+apiKey></script>
    <script>
        var inputData = {
            "data": [{
                    "latitude": "33.452344169439975",
                    "longitude": "126.56878163224233",
                    "time": "2018-10-13 14:05:05"
                },
                {
                    "latitude": "33.452739313807456",
                    "longitude": "126.5709308145358",
                    "time": "2018-10-11 10:00:05"
                },
                {
                    "latitude": "33.45178067090639",
                    "longitude": "126.5726886938753",
                    "time": "2018-10-11 02:05:05"
                }
            ]
        };
        var inputDataString = JSON.stringify(inputData);
        var requestDatas = JSON.parse(inputDataString);

        var centerPoint = new daum.maps.LatLng(33.450701, 126.570667);

        var points = [
            new daum.maps.LatLng(33.452344169439975, 126.56878163224233),
            new daum.maps.LatLng(33.452739313807456, 126.5709308145358),
            new daum.maps.LatLng(33.45178067090639, 126.5726886938753)
        ];



        var makeMarker = function (item, index) {
            var marker = new daum.maps.Marker({
                position: item,
            });
            marker.setTitle(index + "방문");
            marker.setMap(map); //마커
        }

        var makeMarkerFromJson = function (item, index) {
            var curPoint = new daum.maps.LatLng(Number(item.latitude), Number(item.longitude));
            var marker = new daum.maps.Marker({
                position: curPoint,
            });
            marker.setTitle(index + "방문");
            marker.setMap(map); //마커
        }


        var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
            mapOption = {
                center: centerPoint, // 지도의 중심좌표
                level: 4, // 지도의 확대 레벨
                draggable: true,
                scrollwheel: true
            };

        var map = new daum.maps.Map(mapContainer, mapOption); // 지도를 생성합니다
        // [1]  LINE
        // 선을 구성하는 좌표 배열입니다. 이 좌표들을 이어서 선을 표시합니다
        var linePath = points;

        // 지도에 표시할 선을 생성합니다
        var polyline = new daum.maps.Polyline({
            path: linePath, // 선을 구성하는 좌표배열 입니다
            strokeWeight: 5, // 선의 두께 입니다
            strokeColor: '#000000', // 선의 색깔입니다
            strokeOpacity: 0.7, // 선의 불투명도 입니다 1에서 0 사이의 값이며 0에 가까울수록 투명합니다
            strokeStyle: 'solid' // 선의 스타일입니다
        });


        // 마커를 생성합니다. (여러개)
        requestDatas.data.forEach(makeMarkerFromJson);

        // 지도에 표시
        polyline.setMap(map); //선
    </script>
</body>

</html>